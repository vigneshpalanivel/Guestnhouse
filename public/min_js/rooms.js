function initialize(){var t=document.getElementById("map");if(!t)return!1;var e={center:new google.maps.LatLng($("#map").attr("data-lat"),$("#map").attr("data-lng")),zoom:13,zoomControl:!0,scrollwheel:!1,mapTypeControl:!1,streetViewControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},panControl:!1,scaleControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(t,e),a=new google.maps.LatLng($("#map").attr("data-lat"),$("#map").attr("data-lng"));i.setCenter(a);var s={center:{lat:parseFloat($("#map").attr("data-lat")),lng:parseFloat($("#map").attr("data-lng"))}};new google.maps.Circle({strokeColor:"#11848E",strokeOpacity:.8,strokeWeight:2,fillColor:"#7FDDC4",fillOpacity:.35,map:i,center:s.center,radius:1e3})}google.maps.event.addDomListener(window,"load",initialize),$(function(){$(".ad-gallery").adGallery({height:400,effect:"fade"})}),function(t){function e(t,e,i){var a=parseInt(t.css("top"),10);if("left"==e){var s="-"+this.image_wrapper_height+"px";t.css("top",this.image_wrapper_height+"px")}else{var s=this.image_wrapper_height+"px";t.css("top","-"+this.image_wrapper_height+"px")}return i&&(i.css("bottom","-"+i[0].offsetHeight+"px"),i.animate({bottom:0},2*this.settings.animation_speed)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},2*this.settings.animation_speed),{old_image:{top:s},new_image:{top:a}}}function i(t,e,i){var a=parseInt(t.css("left"),10);if("left"==e){var s="-"+this.image_wrapper_width+"px";t.css("left",this.image_wrapper_width+"px")}else{var s=this.image_wrapper_width+"px";t.css("left","-"+this.image_wrapper_width+"px")}return i&&(i.css("bottom","-"+i[0].offsetHeight+"px"),i.animate({bottom:0},2*this.settings.animation_speed)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},2*this.settings.animation_speed),{old_image:{left:s},new_image:{left:a}}}function a(t,e,i){var a=t.width(),s=t.height(),o=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return t.css({width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2}),{old_image:{width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2},new_image:{width:a,height:s,top:n,left:o}}}function s(t,e,i){return t.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1}}}function o(t,e,i){return t.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1},speed:0}}function n(t,e){this.init(t,e)}function r(t,e){this.init(t,e)}t.fn.adGallery=function(e){var i={loader_image:"loader.gif",start_at_index:0,update_window_hash:!0,description_wrapper:!1,thumb_opacity:.7,animate_first_image:!1,animation_speed:400,width:!1,height:!1,display_next_and_prev:!0,display_back_and_forward:!0,scroll_jump:0,slideshow:{enable:!0,autostart:!1,speed:5e3,start_label:"Start",stop_label:"Stop",stop_on_scroll:!0,countdown_prefix:"(",countdown_sufix:")",onStart:!1,onStop:!1},effect:"slide-hori",enable_keyboard_move:!0,cycle:!0,hooks:{displayDescription:!1},callbacks:{init:!1,afterImageVisible:!1,beforeImageVisible:!1}},a=t.extend(!1,i,e);e&&e.slideshow&&(a.slideshow=t.extend(!1,i.slideshow,e.slideshow)),a.slideshow.enable||(a.slideshow.autostart=!1),t(".ad-thumbs").css("top","0px"),setTimeout(function(){t(".ad-thumbs").css("top","90px")},4e3),t(".ad-nav").hover(function(){t(".ad-thumbs").css("top","0px")},function(){t(".ad-thumbs").css("top","90px")});var s=[];return t(this).each(function(){var t=new n(this,a);s[s.length]=t}),s},n.prototype={wrapper:!1,image_wrapper:!1,gallery_info:!1,nav:!1,loader:!1,preloads:!1,thumbs_wrapper:!1,thumbs_wrapper_width:0,scroll_back:!1,scroll_forward:!1,next_link:!1,prev_link:!1,slideshow:!1,image_wrapper_width:0,image_wrapper_height:0,current_index:-1,current_image:!1,current_description:!1,nav_display_width:0,settings:!1,images:!1,in_transition:!1,animations:!1,init:function(e,i){var a=this;this.wrapper=t(e),this.settings=i,this.setupElements(),this.setupAnimations(),this.settings.width?(this.image_wrapper_width=this.settings.width,this.image_wrapper.width(this.settings.width),this.wrapper.width(this.settings.width)):this.image_wrapper_width=this.image_wrapper.width(),this.settings.height?(this.image_wrapper_height=this.settings.height,this.image_wrapper.height(this.settings.height)):this.image_wrapper_height=this.image_wrapper.height(),this.nav_display_width=this.nav.width(),this.current_index=-1,this.current_image=!1,this.current_description=!1,this.in_transition=!1,this.findImages(),this.settings.display_next_and_prev&&this.initNextAndPrev();var s=function(t){return a.nextImage(t)};this.slideshow=new r(s,this.settings.slideshow),this.controls.append(this.slideshow.create()),this.settings.slideshow.enable?this.slideshow.enable():this.slideshow.disable(),this.settings.display_back_and_forward&&this.initBackAndForward(),this.settings.enable_keyboard_move&&this.initKeyEvents(),this.initHashChange();var o=parseInt(this.settings.start_at_index,10);"undefined"!=typeof this.getIndexFromHash()&&(o=this.getIndexFromHash()),this.loading(!0),this.showImage(o,function(){a.settings.slideshow.autostart&&(a.preloadImage(o+1),a.slideshow.start())}),this.fireCallback(this.settings.callbacks.init)},setupAnimations:function(){this.animations={"slide-vert":e,"slide-hori":i,resize:a,fade:s,none:o}},setupElements:function(){this.controls=this.wrapper.find(".ad-controls"),this.gallery_info=t('<p class="ad-info"></p>'),this.controls.append(this.gallery_info),this.image_wrapper=this.wrapper.find(".ad-image-wrapper"),this.image_wrapper.empty(),this.nav=this.wrapper.find(".ad-nav"),this.thumbs_wrapper=this.nav.find(".ad-thumbs"),this.preloads=t('<div class="ad-preloads"></div>'),this.loader=t('<img class="ad-loader" src="../../images/'+this.settings.loader_image+'">'),this.image_wrapper.append(this.loader),this.loader.hide(),t(document.body).append(this.preloads)},loading:function(t){t?this.loader.show():this.loader.hide()},addAnimation:function(e,i){t.isFunction(i)&&(this.animations[e]=i)},findImages:function(){var e=this;this.images=[];var i=0,a=this.thumbs_wrapper.find("a"),s=a.length;this.settings.thumb_opacity<1&&a.find("img").css("opacity",this.settings.thumb_opacity),a.each(function(a){var s=t(this);s.data("ad-i",a);var o=s.attr("href"),n=s.find("img");e.whenImageLoaded(n[0],function(){var t=n[0].parentNode.parentNode.offsetWidth;0==n[0].width&&(t=100),e.thumbs_wrapper_width+=t,i++}),e._initLink(s),e.images[a]=e._createImageData(s,o)});var o=setInterval(function(){s==i&&(e._setThumbListWidth(e.thumbs_wrapper_width),clearInterval(o))},100)},_setThumbListWidth:function(t){t-=100;var e=this.nav.find(".ad-thumb-list");e.css("width",t+"px");for(var i=1,a=e.height();i<201&&(e.css("width",t+i+"px"),a==e.height());)a=e.height(),i++;e.width()<this.nav.width()&&e.width(this.nav.width())},_initLink:function(e){var i=this;e.click(function(){return i.current_index!=e.data("ad-i")&&t(".ad-controls p.ad-caption").remove(),i.showImage(e.data("ad-i")),i.slideshow.stop(),!1}).hover(function(){!t(this).is(".ad-active")&&i.settings.thumb_opacity<1&&t(this).find("img").fadeTo(300,1),i.preloadImage(e.data("ad-i"))},function(){!t(this).is(".ad-active")&&i.settings.thumb_opacity<1&&t(this).find("img").fadeTo(300,i.settings.thumb_opacity)})},_createImageData:function(t,e){var i=!1,a=t.find("img");a.data("ad-link")?i=t.data("ad-link"):a.attr("longdesc")&&a.attr("longdesc").length&&(i=a.attr("longdesc"));var s=!1;a.data("ad-desc")?s=a.data("ad-desc"):a.attr("alt")&&a.attr("alt").length&&(s=a.attr("alt"));var o=!1;a.data("ad-title")?o=a.data("ad-title"):a.attr("title")&&a.attr("title").length&&(o=a.attr("title"));var n=!1;return a.attr("data-caption")&&(n=a.attr("data-caption")),{thumb_link:t,image:e,error:!1,preloaded:!1,desc:s,title:o,size:!1,captions:n,link:i}},initKeyEvents:function(){var e=this;t(document).keydown(function(t){39==t.keyCode?(e.nextImage(),e.slideshow.stop()):37==t.keyCode&&(e.prevImage(),e.slideshow.stop())})},getIndexFromHash:function(){if(window.location.hash&&0===window.location.hash.indexOf("#ad-image-")){var t=window.location.hash.replace(/^#ad-image-/g,""),e=this.thumbs_wrapper.find("#"+t);if(e.length)return this.thumbs_wrapper.find("a").index(e);if(!isNaN(parseInt(t,10)))return parseInt(t,10)}},removeImage:function(e){if(e<0||e>=this.images.length)throw"Cannot remove image for index "+e;var i=this.images[e];this.images.splice(e,1);var a=i.thumb_link,s=a[0].parentNode.offsetWidth;this.thumbs_wrapper_width-=s,a.remove(),this._setThumbListWidth(this.thumbs_wrapper_width),this.gallery_info.html(this.current_index+1+" / "+this.images.length),this.thumbs_wrapper.find("a").each(function(e){t(this).data("ad-i",e)}),e==this.current_index&&0!=this.images.length&&this.showImage(0)},removeAllImages:function(){for(var t=this.images.length-1;t>=0;t--)this.removeImage(t)},addImage:function(e,i,a,s,o){a=a||"",s=s||"",o=o||"";var n=t('<li><a href="'+i+'" id="'+a+'"><img src="'+e+'" title="'+s+'" alt="'+o+'"></a></li>'),r=this;this.thumbs_wrapper.find("ul").append(n);var h=n.find("a"),l=h.find("img");l.css("opacity",this.settings.thumb_opacity),this.whenImageLoaded(l[0],function(){var t=l[0].parentNode.parentNode.offsetWidth;0==l[0].width&&(t=100),r.thumbs_wrapper_width+=t,r._setThumbListWidth(r.thumbs_wrapper_width)});var c=this.images.length;h.data("ad-i",c),this._initLink(h),this.images[c]=r._createImageData(h,i),this.gallery_info.html(this.current_index+1+" / "+this.images.length)},initHashChange:function(){var e=this;if("onhashchange"in window)t(window).bind("hashchange",function(){var t=e.getIndexFromHash();"undefined"!=typeof t&&t!=e.current_index&&e.showImage(t)});else{var i=window.location.hash;setInterval(function(){if(window.location.hash!=i){i=window.location.hash;var t=e.getIndexFromHash();"undefined"!=typeof t&&t!=e.current_index&&e.showImage(t)}},200)}},initNextAndPrev:function(){this.next_link=t('<div class="ad-next"><div class="ad-next-image icon-chevron-right icon  icon-size-4 text-contrast"></div></div>'),this.prev_link=t('<div class="ad-prev"><div class="ad-prev-image icon-chevron-left icon  icon-size-4 text-contrast"></div></div>'),this.image_wrapper.append(this.next_link),this.image_wrapper.append(this.prev_link);var e=this;this.prev_link.add(this.next_link).mouseover(function(i){t(this).css("height",e.image_wrapper_height)}).mouseout(function(t){}).click(function(){t(this).is(".ad-next")?(t(".ad-caption").hide(),e.nextImage(),e.slideshow.stop()):(t(".ad-caption").hide(),e.prevImage(),e.slideshow.stop())}).find("div").css("opacity",1)},initBackAndForward:function(){var e=this;this.scroll_forward=t('<div class="ad-forward"></div>'),this.scroll_back=t('<div class="ad-back"></div>'),this.nav.append(this.scroll_forward),this.nav.prepend(this.scroll_back);var i=0,a=!1;t(this.scroll_back).add(this.scroll_forward).click(function(){var i=e.nav_display_width-50;if(e.settings.scroll_jump>0)var i=e.settings.scroll_jump;if(t(this).is(".ad-forward"))var a=e.thumbs_wrapper.scrollLeft()+i;else var a=e.thumbs_wrapper.scrollLeft()-i;return e.settings.slideshow.stop_on_scroll&&e.slideshow.stop(),e.thumbs_wrapper.animate({scrollLeft:a+"px"}),!1}).css("opacity",.6).hover(function(){var s="left";t(this).is(".ad-forward")&&(s="right"),a=setInterval(function(){i++,i>30&&e.settings.slideshow.stop_on_scroll&&e.slideshow.stop();var t=e.thumbs_wrapper.scrollLeft()+1;"left"==s&&(t=e.thumbs_wrapper.scrollLeft()-1),e.thumbs_wrapper.scrollLeft(t)},10),t(this).css("opacity",1)},function(){i=0,clearInterval(a),t(this).css("opacity",.6)})},_afterShow:function(){if(this.gallery_info.html(this.current_index+1+" / "+this.images.length),this.settings.cycle||(this.prev_link.show().css("height",this.image_wrapper_height),this.next_link.show().css("height",this.image_wrapper_height),this.current_index==this.images.length-1&&this.next_link.hide(),0==this.current_index&&this.prev_link.hide()),this.settings.update_window_hash){var t=this.images[this.current_index].thumb_link;t.attr("id")?window.location.hash="#ad-image-"+t.attr("id"):window.location.hash="#ad-image-"+this.current_index}this.fireCallback(this.settings.callbacks.afterImageVisible)},_getContainedImageSize:function(t,e){if(e>this.image_wrapper_height){var i=t/e;e=this.image_wrapper_height,t=this.image_wrapper_height*i}if(e<this.image_wrapper_height){var i=t/e;e=400,t=this.image_wrapper_height*i}if(t>this.image_wrapper_width){var i=e/t;t=this.image_wrapper_width,e=this.image_wrapper_width*i}return{width:t,height:e}},_centerImage:function(t,e,i){if(t.css("top","0px"),i<this.image_wrapper_height){var a=this.image_wrapper_height-i;t.css("top",a/2+"px")}if(t.css("left","0px"),e<this.image_wrapper_width){var a=this.image_wrapper_width-e;t.css("left",a/2+"px")}},_getDescription:function(e){var i=!1;if(e.desc.length||e.title.length){var a="";e.title.length&&(a='<strong class="ad-description-title">'+e.title+"</strong>");var i="";e.desc.length&&(i="<span>"+e.desc+"</span>"),i=t('<p class="ad-image-description">'+a+i+"</p>")}return i},_getCaption:function(e){var i=!1;if(e.desc.length||e.title.length){var a="";e.title.length&&(a='<strong class="ad-caption"> : '+e.title+"</strong>");var i="";e.desc.length&&(i="<span>"+e.desc+"</span>"),i=t('<p class="ad-caption">'+a+i+"</p>")}return i},showImage:function(t,e){if(this.images[t]&&!this.in_transition&&t!=this.current_index){var i=this,a=this.images[t];this.in_transition=!0,a.preloaded?this._showWhenLoaded(t,e):(this.loading(!0),this.preloadImage(t,function(){i.loading(!1),i._showWhenLoaded(t,e)}))}},_showWhenLoaded:function(e,i){if(this.images[e]){var a=this,s=this.images[e],o=t(document.createElement("div")).addClass("ad-image"),o=t(document.createElement("div")).addClass("ad-image"),n=t(new Image).attr("src",s.image);if(s.link){var r=t('<a href="'+s.link+'" target="_blank"></a>');r.append(n),o.append(r)}else o.append(n);this.image_wrapper.prepend(o);var h=this._getContainedImageSize(s.size.width,s.size.height);n.attr("width",h.width),n.attr("height",h.height),o.css({width:h.width+"px",height:h.height+"px"}),this._centerImage(o,h.width,h.height);var l=this._getDescription(s),c=this._getCaption(s);if(l)if(this.settings.description_wrapper||this.settings.hooks.displayDescription)if(this.settings.hooks.displayDescription)this.settings.hooks.displayDescription.call(this,s);else{var d=this.settings.description_wrapper;d.append(l)}else{t(".ad-controls").append(c);var p=h.width-parseInt(l.css("padding-left"),10)-parseInt(l.css("padding-right"),10);l.css("width",p+"px")}this.highLightThumb(this.images[e].thumb_link);var g="right";if(this.current_index<e&&(g="left"),this.fireCallback(this.settings.callbacks.beforeImageVisible),this.current_image||this.settings.animate_first_image){var u=this.settings.animation_speed,m="swing",f=this.animations[this.settings.effect].call(this,o,g,l);if("undefined"!=typeof f.speed&&(u=f.speed),"undefined"!=typeof f.easing&&(m=f.easing),this.current_image){var _=this.current_image,v=this.current_description;_.animate(f.old_image,u,m,function(){_.remove(),v&&v.remove()})}o.animate(f.new_image,u,m,function(){a.current_index=e,a.current_image=o,a.current_description=l,a.in_transition=!1,a._afterShow(),a.fireCallback(i)})}else this.current_index=e,this.current_image=o,a.current_description=l,this.in_transition=!1,a._afterShow(),this.fireCallback(i)}},nextIndex:function(){if(this.current_index==this.images.length-1){if(!this.settings.cycle)return!1;var t=0}else var t=this.current_index+1;return t},nextImage:function(t){var e=this.nextIndex();return e!==!1&&(this.preloadImage(e+1),this.showImage(e,t),!0)},prevIndex:function(){if(0==this.current_index){if(!this.settings.cycle)return!1;var t=this.images.length-1}else var t=this.current_index-1;return t},prevImage:function(t){var e=this.prevIndex();return e!==!1&&(this.preloadImage(e-1),this.showImage(e,t),!0)},preloadAll:function(){function t(){i<e.images.length&&(i++,e.preloadImage(i,t))}var e=this,i=0;e.preloadImage(i,t)},preloadImage:function(e,i){if(this.images[e]){var a=this.images[e];if(this.images[e].preloaded)this.fireCallback(i);else{var s=t(new Image);if(s.attr("src",a.image),this.isImageLoaded(s[0]))a.preloaded=!0,a.size={width:s[0].width,height:s[0].height},this.fireCallback(i);else{this.preloads.append(s);var o=this;s.load(function(){a.preloaded=!0,a.size={width:this.width,height:this.height},o.fireCallback(i)}).error(function(){a.error=!0,a.preloaded=!1,a.size=!1})}}}},whenImageLoaded:function(e,i){this.isImageLoaded(e)?i&&i():t(e).load(i)},isImageLoaded:function(t){return!("undefined"!=typeof t.complete&&!t.complete)&&("undefined"==typeof t.naturalWidth||0!=t.naturalWidth)},highLightThumb:function(t){this.thumbs_wrapper.find(".ad-active").removeClass("ad-active"),t.addClass("ad-active"),this.settings.thumb_opacity<1&&(this.thumbs_wrapper.find("a:not(.ad-active) img").fadeTo(300,this.settings.thumb_opacity),t.find("img").fadeTo(300,1));var e=t[0].parentNode.offsetLeft;e-=this.nav_display_width/2-t[0].offsetWidth/2,this.thumbs_wrapper.animate({scrollLeft:e+"px"})},fireCallback:function(e){t.isFunction(e)&&e.call(this)}},r.prototype={start_link:!1,stop_link:!1,countdown:!1,controls:!1,settings:!1,nextimage_callback:!1,enabled:!1,running:!1,countdown_interval:!1,init:function(t,e){this.nextimage_callback=t,this.settings=e},create:function(){this.start_link=t('<span class="ad-slideshow-start">'+this.settings.start_label+"</span>"),this.stop_link=t('<span class="ad-slideshow-stop">'+this.settings.stop_label+"</span>"),this.countdown=t('<span class="ad-slideshow-countdown"></span>'),this.controls=t('<div class="ad-slideshow-controls"></div>'),this.photo_list=t('<span class="ad-slideshow-start">'+show_photo_list+' <i class="fa fa-caret-down"></i></span>'),this.controls.append(this.photo_list),this.countdown.hide();var e=this;return this.start_link.click(function(){e.start()}),this.stop_link.click(function(){e.stop()}),t(document).keydown(function(t){83==t.keyCode&&(e.running?e.stop():e.start())}),this.controls},disable:function(){this.enabled=!1,this.stop(),this.controls.hide()},enable:function(){this.enabled=!0,this.controls.show()},toggle:function(){this.enabled?this.disable():this.enable()},start:function(){if(this.running||!this.enabled)return!1;return this.running=!0,this.controls.addClass("ad-slideshow-running"),this._next(),this.fireCallback(this.settings.onStart),!0},stop:function(){return!!this.running&&(this.running=!1,this.countdown.hide(),this.controls.removeClass("ad-slideshow-running"),clearInterval(this.countdown_interval),this.fireCallback(this.settings.onStop),!0)},_next:function(){var t=this,e=this.settings.countdown_prefix,i=this.settings.countdown_sufix;clearInterval(t.countdown_interval),this.countdown.show().html(e+this.settings.speed/1e3+i);var a=0;this.countdown_interval=setInterval(function(){if(a+=1e3,a>=t.settings.speed){var s=function(){t.running&&t._next(),a=0};t.nextimage_callback(s)||t.stop(),a=0}var o=parseInt(t.countdown.text().replace(/[^0-9]/g,""),10);o--,o>0&&t.countdown.html(e+o+i)},1e3)},fireCallback:function(e){t.isFunction(e)&&e.call(this)}}}(jQuery),function(t,e,i,a){function s(e,i){this.el=e,this.$el=t(this.el),this.options=t.extend({},n,i),this._defaults=n,this._name=o,this.init()}var o="nivoLightbox",n={effect:"fade",theme:"default",keyboardNav:!0,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(t){},beforeHideLightbox:function(){},afterHideLightbox:function(){},onPrev:function(t){},onNext:function(t){},errorMessage:"The requested content cannot be loaded. Please try again later."};s.prototype={init:function(){var e=this;t("html").hasClass("nivo-lightbox-notouch")||t("html").addClass("nivo-lightbox-notouch"),"ontouchstart"in i&&t("html").removeClass("nivo-lightbox-notouch"),this.$el.on("click",function(t){e.showLightbox(t)}),this.options.keyboardNav&&t("body").off("keyup").on("keyup",function(i){var a=i.keyCode?i.keyCode:i.which;27==a&&e.destructLightbox(),37==a&&t(".nivo-lightbox-prev").trigger("click"),39==a&&t(".nivo-lightbox-next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(e){var i=this,a=this.$el,s=this.checkContent(a);if(s){e.preventDefault(),this.options.beforeShowLightbox.call(this);var o=this.constructLightbox();if(o){var n=o.find(".nivo-lightbox-content");if(n){if(t("body").addClass("nivo-lightbox-body-effect-"+this.options.effect),this.processContent(n,a),this.$el.attr("data-lightbox-gallery")){var r=t('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]');t(".nivo-lightbox-nav").show(),t(".nivo-lightbox-prev").off("click").on("click",function(e){e.preventDefault();var s=r.index(a);a=r.eq(s-1),t(a).length||(a=r.last()),i.processContent(n,a),i.options.onPrev.call(this,[a])}),t(".nivo-lightbox-next").off("click").on("click",function(e){e.preventDefault();var s=r.index(a);a=r.eq(s+1),t(a).length||(a=r.first()),i.processContent(n,a),i.options.onNext.call(this,[a])})}setTimeout(function(){o.addClass("nivo-lightbox-open"),i.options.afterShowLightbox.call(this,[o])},1)}}}},checkContent:function(t){var e=t.attr("href"),i=e.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);return null!==e.match(/\.(jpeg|jpg|gif|png)$/i)||(!!i||("ajax"==t.attr("data-lightbox-type")||("#"==e.substring(0,1)&&"inline"==t.attr("data-lightbox-type")||"iframe"==t.attr("data-lightbox-type"))))},processContent:function(i,a){var s=this,o=a.attr("href"),n=o.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);if(i.html("").addClass("nivo-lightbox-loading"),this.isHidpi()&&a.attr("data-lightbox-hidpi")&&(o=a.attr("data-lightbox-hidpi")),null!==o.match(/\.(jpeg|jpg|gif|png)$/i)){var r=t("<img>",{src:o});r.one("load",function(){var a=t('<div class="nivo-lightbox-image" />');a.append(r),i.html(a).removeClass("nivo-lightbox-loading"),a.css({"line-height":t(".nivo-lightbox-content").height()+"px",height:t(".nivo-lightbox-content").height()+"px"}),t(e).resize(function(){a.css({"line-height":t(".nivo-lightbox-content").height()+"px",height:t(".nivo-lightbox-content").height()+"px"})})}).each(function(){this.complete&&t(this).load()}),r.error(function(){var e=t('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");i.html(e).removeClass("nivo-lightbox-loading")})}else if(n){var h="",l="nivo-lightbox-video";if("youtube"==n[1]&&(h="http://www.youtube.com/embed/"+n[4],l="nivo-lightbox-youtube"),"youtu"==n[1]&&(h="http://www.youtube.com/embed/"+n[3],l="nivo-lightbox-youtube"),"vimeo"==n[1]&&(h="http://player.vimeo.com/video/"+n[3],l="nivo-lightbox-vimeo"),h){var c=t("<iframe>",{src:h,"class":l,frameborder:0,vspace:0,hspace:0,scrolling:"auto"});i.html(c),c.load(function(){i.removeClass("nivo-lightbox-loading")})}}else if("ajax"==a.attr("data-lightbox-type"))t.ajax({url:o,cache:!1,success:function(a){var s=t('<div class="nivo-lightbox-ajax" />');s.append(a),i.html(s).removeClass("nivo-lightbox-loading"),s.outerHeight()<i.height()&&s.css({position:"relative",top:"50%","margin-top":-(s.outerHeight()/2)+"px"}),t(e).resize(function(){s.outerHeight()<i.height()&&s.css({position:"relative",top:"50%","margin-top":-(s.outerHeight()/2)+"px"})})},error:function(){var e=t('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");i.html(e).removeClass("nivo-lightbox-loading")}});else if("#"==o.substring(0,1)&&"inline"==a.attr("data-lightbox-type"))if(t(o).length){var d=t('<div class="nivo-lightbox-inline" />');d.append(t(o).clone().show()),i.html(d).removeClass("nivo-lightbox-loading"),d.outerHeight()<i.height()&&d.css({position:"relative",top:"50%","margin-top":-(d.outerHeight()/2)+"px"}),t(e).resize(function(){d.outerHeight()<i.height()&&d.css({position:"relative",top:"50%","margin-top":-(d.outerHeight()/2)+"px"})})}else{var p=t('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");i.html(p).removeClass("nivo-lightbox-loading")}else{if("iframe"!=a.attr("data-lightbox-type"))return!1;var g=t("<iframe>",{src:o,"class":"nivo-lightbox-item",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});i.html(g),g.load(function(){i.removeClass("nivo-lightbox-loading")})}if(a.attr("title")){var u=t("<span>",{"class":"nivo-lightbox-title"});u.text(a.attr("title")),t(".nivo-lightbox-title-wrap").html(u)}else t(".nivo-lightbox-title-wrap").html("")},constructLightbox:function(){if(t(".nivo-lightbox-overlay").length)return t(".nivo-lightbox-overlay");var e=t("<div>",{"class":"nivo-lightbox-overlay nivo-lightbox-theme-"+this.options.theme+" nivo-lightbox-effect-"+this.options.effect}),i=t("<div>",{"class":"nivo-lightbox-wrap"}),a=t("<div>",{"class":"nivo-lightbox-content"}),s=t('<a href="#" class="nivo-lightbox-nav nivo-lightbox-prev">Previous</a><a href="#" class="nivo-lightbox-nav nivo-lightbox-next">Next</a>'),o=t('<a href="#" class="modal-close" data-behavior="modal-close" title="Close" style="font-size:65px;"></a>'),n=t("<div>",{"class":"nivo-lightbox-title-wrap"}),r=0;r&&e.addClass("nivo-lightbox-ie"),i.append(a),i.append(n),e.append(i),e.append(s),e.append(o),t("body").append(e);var h=this;return h.options.clickOverlayToClose&&e.on("click",function(e){(e.target===this||t(e.target).hasClass("nivo-lightbox-content")||t(e.target).hasClass("nivo-lightbox-image"))&&h.destructLightbox()}),o.on("click",function(t){t.preventDefault(),h.destructLightbox()}),e},destructLightbox:function(){var e=this;this.options.beforeHideLightbox.call(this),t(".nivo-lightbox-overlay").removeClass("nivo-lightbox-open"),t(".nivo-lightbox-nav").hide(),t("body").removeClass("nivo-lightbox-body-effect-"+e.options.effect);var i=0;i&&(t(".nivo-lightbox-overlay iframe").attr("src"," "),t(".nivo-lightbox-overlay iframe").remove()),t(".nivo-lightbox-prev").off("click"),t(".nivo-lightbox-next").off("click"),t(".nivo-lightbox-content").empty(),this.options.afterHideLightbox.call(this)},isHidpi:function(){var t="(-webkit-min-device-pixel-ratio: 1.5),                              (min--moz-device-pixel-ratio: 1.5),                              (-o-min-device-pixel-ratio: 3/2),                              (min-resolution: 1.5dppx)";return e.devicePixelRatio>1||!(!e.matchMedia||!e.matchMedia(t).matches)}},t.fn[o]=function(e){return this.each(function(){t.data(this,o)||t.data(this,o,new s(this,e))})}}(jQuery,window,document),$(window).load(function(){$("#status").fadeOut(),$("#preloader").delay(350).fadeOut("slow"),$("body").delay(350).css({overflow:"visible"})}),$("a.gallery").nivoLightbox({effect:"fade",theme:"default",keyboardNav:!0,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(t){},beforeHideLightbox:function(){},afterHideLightbox:function(){},onPrev:function(t){},onNext:function(t){},errorMessage:"The requested content cannot be loaded. Please try again later."}),app.controller("rooms_detail",["$scope","$http","$filter",function(t,e,i){function a(i,a,s){var o=t.room_id;$(".js-subtotal-container").show(),e.post("price_calculation",{checkin:a,checkout:i,guest_count:s,room_id:o}).then(function(t){"Not available"==t.data.status?($(".js-subtotal-container").hide(),$("#book_it_disabled").show(),$(".js-book-it-btn-container").hide()):($(".js-subtotal-container").show(),$("#book_it_disabled").hide(),$(".js-book-it-btn-container").show()),$(".js-book-it-status").removeClass("loading"),$("#total_night_price").text(t.data.total_night_price),$("#service_fee").text(t.data.service_fee),$("#total").text(t.data.total),$("#total_night_count").text(t.data.total_nights),$("#rooms_price_amount").text(t.data.rooms_price),$("#rooms_price_amount_1").text(t.data.rooms_price),t.data.additional_guest?($(".additional_price").show(),$("#additional_guest").text(t.data.additional_guest)):$(".additional_price").hide(),t.data.security_fee?($(".security_price").show(),$("#security_fee").text(t.data.security_fee)):$(".security_price").hide(),t.data.cleaning_fee?($(".cleaning_price").show(),$("#cleaning_fee").text(t.data.cleaning_fee)):$(".cleaning_price").hide()})}function s(t,i,a,s){e.post(APP_URL+"/rooms/price_calculation",{checkin:i,checkout:t,guest_count:a,room_id:s}).then(function(t){"Not available"==t.data.status?($(".contacted-before").removeClass("hide"),$(".contacted-before").removeClass("error-block")):($(".contacted-before").addClass("hide"),$(".contacted-before").addClass("error-block"))})}$(function(){$(".slider1").bxSlider({slideWidth:335,minSlides:2,maxSlides:3,slideMargin:1,infiniteLoop:!1,nextSelector:"#slider-next",prevSelector:"#slider-prev"})}),$(document).ready(function(){$(".bx-prev").addClass("icon icon-chevron-left icon-gray icon-size-2 "),$(".bx-prev").text(""),$(".bx-next").addClass("icon icon-chevron-right icon-gray icon-size-2 "),$(".bx-next").text("")}),$(".expandable-trigger-more").click(function(){$(".all_description").addClass("expanded")}),$(".rooms_amenities_after").hide(),$(".amenities_trigger").click(function(){$(".rooms_amenities_before").hide(),$(".rooms_amenities_after").show()}),setTimeout(function(){var i=t.room_id;e.post("rooms_calendar",{data:i}).then(function(t){$("#room_blocked_dates").val(t.data.not_avilable),$("#calendar_available_price").val(t.data.changed_price),$("#room_available_price").val(t.data.price),$("#weekend_price_tooltip").val(t.data.weekend);var e=$("#room_blocked_dates").val(),i=$("#room_available_price").val(),s=0!=$("#weekend_price_tooltip").val()?$("#weekend_price_tooltip").val():$("#room_available_price").val(),o=($("#calendar_available_price").val(),t.data.changed_price),n=t.data.currency_symbol;if($("#list_checkin").datepicker({minDate:0,dateFormat:"dd-mm-yy",beforeShow:function(t,e){setTimeout(function(){e.dpDiv.find("a.ui-state-highlight").removeClass("ui-state-highlight")},100)},beforeShowDay:function(t){var a=jQuery.datepicker.formatDate("yy-mm-dd",t),r=jQuery.datepicker.formatDate("DD",t),h=new Date;return h.setDate(h.getDate()-1),e.indexOf(a)==-1?"undefined"==typeof o[a]?("Friday"==r||"Saturday"==r?o[a]=s:o[a]=i,[e.indexOf(a)==-1,"highlight",n+o[a]]):t>h?[e.indexOf(a)==-1,"highlight",n+o[a]]:[e.indexOf(a)==-1]:[e.indexOf(a)==-1]},onSelect:function(t){var e=$("#list_checkin").datepicker("getDate");e.setDate(e.getDate()+1),$("#list_checkout").datepicker("setDate",e),$("#list_checkout").datepicker("option","minDate",e),setTimeout(function(){$("#list_checkout").datepicker("show")},20);var i=$(this).val(),e=$("#list_checkout").val(),s=$("#number_of_guests").val();""!=i&&""!=e&&($(".js-book-it-status").addClass("loading"),a(e,i,s)),$(".tooltip").hide(),t!=new Date&&$(".ui-datepicker-today").removeClass("ui-datepicker-today")}}),$(document).on("mouseenter",".ui-datepicker-calendar .ui-state-hover",function(t){$(".highlight").tooltip({container:"body"})}),jQuery("#list_checkout").datepicker({minDate:1,dateFormat:"dd-mm-yy",beforeShowDay:function(t){var a=jQuery.datepicker.formatDate("yy-mm-dd",t),r=jQuery.datepicker.formatDate("DD",t);return e.indexOf(a)==-1?("undefined"==typeof o[a]&&("Friday"==r||"Saturday"==r?o[a]=s:o[a]=i),[e.indexOf(a)==-1,"highlight",n+o[a]]):[e.indexOf(a)==-1]},onSelect:function(){$(".tooltip").hide()},onClose:function(){var t=$("#list_checkin").datepicker("getDate"),i=$("#list_checkout").datepicker("getDate"),i=$(this).val(),t=$("#list_checkin").val(),s=$("#number_of_guests").val();if(""==t||""==i){for(t=moment(),checkin_date=t.format("YYYY-MM-DD");e.indexOf(checkin_date)!=-1;)t=t.add("1","days"),checkin_date=t.format("YYYY-MM-DD");return i=t.clone().add("1","days"),$("#list_checkin").datepicker("setDate",t.toDate()),$("#list_checkout").datepicker("option","minDate",i.toDate()),setTimeout(function(){$("#list_checkin").datepicker("show")},20),!1}$(".js-book-it-status").addClass("loading"),a(i,t,s)}}),""!=$("#url_checkin").val()&&""!=$("#url_checkout").val()){$("#list_checkin").datepicker("setDate",new Date($("#url_checkin").val())),$("#list_checkout").datepicker("setDate",new Date($("#url_checkout").val())),$("#number_of_guests").val($("#url_guests").val()),
$("#message_checkin").datepicker("setDate",new Date($("#url_checkin").val())),$("#message_checkout").datepicker("setDate",new Date($("#url_checkout").val())),$("#message_guests").val($("#url_guests").val());var r=$("#list_checkin").val(),h=$("#list_checkout").val(),l=$("#number_of_guests").val();a(h,r,l)}else""!=$("#url_guests").val()&&$("#number_of_guests").val($("#url_guests").val())})},10),$("#number_of_guests").change(function(){var t=$(this).val(),e=$("#list_checkin").val(),i=$("#list_checkout").val();""!=e&&""!=i&&($(".js-book-it-status").addClass("loading"),a(i,e,t))}),$(".additional_price").hide(),$(".security_price").hide(),$(".cleaning_price").hide(),$(".js-subtotal-container").hide(),$("#book_it_disabled").hide(),$("#contact-host-link, #host-profile-contact-btn").click(function(){$(".contact-modal").removeClass("hide")}),setTimeout(function(){var i=t.room_id,a=i;e.post(APP_URL+"/rooms/rooms_calendar",{data:i}).then(function(t){var e=(t.data.changed_price,t.data.not_avilable);$("#message_checkin").datepicker({minDate:0,dateFormat:"dd-mm-yy",setDate:new Date($("#message_checkin").val()),beforeShowDay:function(t){var t=jQuery.datepicker.formatDate("yy-mm-dd",t);return $.inArray(t,e)!=-1?[!1]:[!0]},onSelect:function(t){var e=$("#message_checkin").datepicker("getDate");e.setDate(e.getDate()+1),$("#message_checkout").datepicker("setDate",e),$("#message_checkout").datepicker("option","minDate",e),setTimeout(function(){$("#message_checkout").datepicker("show")},20);var i=$(this).val(),e=$("#message_checkout").val(),o=$("#message_guests").val();s(e,i,o,a),t!=new Date&&$(".ui-datepicker-today").removeClass("ui-datepicker-today")}}),jQuery("#message_checkout").datepicker({minDate:1,dateFormat:"dd-mm-yy",setDate:new Date($("#message_checkout").val()),beforeShowDay:function(t){var t=jQuery.datepicker.formatDate("yy-mm-dd",t);return $.inArray(t,e)!=-1?[!1]:[!0]},onClose:function(){var t=$("#message_checkin").datepicker("getDate"),e=$("#message_checkout").datepicker("getDate");if(e<=t){var i=$("#message_checkout").datepicker("option","minDate");$("#message_checkout").datepicker("setDate",i)}var e=$(this).val(),t=$("#message_checkin").val(),o=$("#message_guests").val();""!=t?s(e,t,o,a):($("#message_checkin").datepicker("setDate",new Date),setTimeout(function(){$("#message_checkin").datepicker("show")},20))}})})},10),$(document).on("click",".rich-toggle-unchecked,.rich-toggle-checked",function(){return"object"==typeof USER_ID?(window.location.href=APP_URL+"/login",!1):($(".wl-modal__modal").removeClass("hide"),$(".wl-modal__col:nth-child(2)").addClass("hide"),$(".row-margin-zero").append('<div id="wish-list-signup-container" style="overflow-y:auto;" class="col-lg-5 wl-modal__col-collapsible"> <div class="loading wl-modal__col"> </div> </div>'),void e.get(APP_URL+"/wishlist_list?id="+t.room_id,{}).then(function(e){$("#wish-list-signup-container").remove(),$(".wl-modal__col:nth-child(2)").removeClass("hide"),t.wishlist_list=e.data}))}),t.wishlist_row_select=function(i){e.post(APP_URL+"/save_wishlist",{data:t.room_id,wishlist_id:t.wishlist_list[i].id,saved_id:t.wishlist_list[i].saved_id}).then(function(e){"null"==e.data?t.wishlist_list[i].saved_id=null:t.wishlist_list[i].saved_id=e.data}),$("#wishlist_row_"+i).hasClass("text-dark-gray")?t.wishlist_list[i].saved_id=null:t.wishlist_list[i].saved_id=1},$(document).on("submit",".wl-modal-footer__form",function(i){i.preventDefault(),$(".wl-modal__col:nth-child(2)").addClass("hide"),$(".row-margin-zero").append('<div id="wish-list-signup-container" style="overflow-y:auto;" class="col-lg-5 wl-modal__col-collapsible"> <div class="loading wl-modal__col"> </div> </div>'),e.post(APP_URL+"/wishlist_create",{data:$(".wl-modal-footer__input").val(),id:t.room_id}).then(function(e){$(".wl-modal-footer__form").addClass("hide"),$("#wish-list-signup-container").remove(),$(".wl-modal__col:nth-child(2)").removeClass("hide"),t.wishlist_list=e.data,i.preventDefault()}),i.preventDefault()}),$(".wl-modal-close").click(function(){var e=i("filter")(t.wishlist_list,{saved_id:null});e.length==t.wishlist_list.length?$("#wishlist-button").prop("checked",!1):$("#wishlist-button").prop("checked",!0),$(".wl-modal__modal").addClass("hide")})}]),$("#view-calendar").click(function(t){$("#list_checkin").datepicker("show")}),$("#contace_request_message_send").click(function(){return""==$("#message_checkin").val()?($("#errors").removeClass("hide"),!1):""==$("#message_checkout").val()?($("#errors").removeClass("hide"),!1):""!=$("#message_checkout").val()&&""!=$("#message_checkin").val()?($("#message_form").trigger("submit"),!1):void 0}),$(".js-book-it-btn-container").click(function(){var t=$("#list_checkin").val(),e=$("#list_checkout").val();if(""==t||""==e)return $("#list_checkin").trigger("select"),!1}),$(document).ready(function(){function t(t){var e=$(document).scrollTop();$("ul.subnav-list li a").each(function(){var t=$(this),i=$(t.attr("href"));if(void 0!=t.attr("data-extra")){var a=$(t.attr("data-extra"));a.position().top-80<=e&&a.position().top+a.height()>e&&($("ul.subnav-list li a").attr("aria-selected","false"),t.attr("aria-selected","true"))}i.position().top-80<=e&&i.position().top+i.height()>e&&($("ul.subnav-list li a").attr("aria-selected","false"),t.attr("aria-selected","true"))})}if(!$("#pricing").offset())return!1;var e=$("#pricing").offset().top,i=$("#host-profile").offset().top;$(window).scroll(function(){$(window).scrollTop()>e&&$(window).width()>1200?($(window).scrollTop()>i||$("#pricing").addClass("fixed"),$(".subnav").attr("aria-hidden","false"),$("#book_it").followTo("#map-id")):($("#pricing").removeClass("fixed"),$(".subnav").attr("aria-hidden","true"),$("#book_it").css("position","absolute"),$("#book_it").css("top","0px"))});var a=this;$.fn.followTo=function(t){var e=this,i=$(a),s=$(t),o=s.offset().top,n=e.outerHeight(),r=function(){i.scrollTop()>o-n-50?e.css({position:"absolute",top:o-n-650}):e.css({position:"fixed",top:40})};i.resize(function(){o=pos.offset().top,n=e.outerHeight(),r()}),i.scroll(r),r()},$('[data-behavior="modal-close"]').click(function(){$(".contact-modal").addClass("hide"),$(".contact-modal").attr("aria-hidden","true")}),$(document).ready(function(){$(document).on("scroll",t)}),window.onload=function(){$("#pricing").hasClass("fixed")?$("#pricing.fixed").css({position:"fixed",top:"0px"}):$("#pricing").css({position:"relative",top:"-40px"})}});